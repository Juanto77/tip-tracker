//SUPABASE
ref.id : halcwovtnbrsurdguqkm
db.password: f1Y300ruP606bg6V
supabase link --project-ref halcwovtnbrsurdguqkm
supabase link --project-ref
//Calls that work

When loading data to a page from a fresh start

```
const { data, pending, error, refresh } = await useFetch("/api/tips");
```

```
onMounted(async () => {
  const data = await $fetch('api/internal/versions');
  console.log(data);
});

const {
  data: { tips },
} = await useFetch("/api/tips", { headers: useRequestHeaders(["cookie"]) });
```

```
create table
  public.tips (
    id bigint generated by default as identity,
    user_id uuid not null,
    job_id bigint not null,
    pa bigint null,
    date date null,
    in_time time without time zone null,
    out_time time without time zone null,
    total_hours numeric not null default '0'::numeric,
    cash numeric null default '0'::numeric,
    credit numeric null default '0'::numeric,
    beer_sales numeric null default '0'::numeric,
    food_sales numeric null default '0'::numeric,
    liquor_sales numeric null default '0'::numeric,
    retail_sales numeric null default '0'::numeric,
    wine_sales numeric null default '0'::numeric,
    guest_count numeric null default '0'::numeric,
    bus_tip numeric null,
    bar_tip numeric not null default '0'::numeric,
    food_tip numeric not null default '0'::numeric,
    card_fee numeric null,
    food_out numeric null,
    bar_out numeric null,
    bus_out numeric null,
    ppa numeric null,
    liquor_percent numeric null,
    total_revenue numeric null,
    credit_revenue numeric null,
    calc jsonb[] null,
    constraint tips_pkey primary key (id),
    constraint tips_job_id_fkey foreign key (job_id) references jobs (id) on update cascade,
    constraint tips_user_id_fkey foreign key (user_id) references auth.users (id) on update cascade
  ) tablespace pg_default;
```

```
user_delete
auth
(auth.uid() = user_id)

read_access
false

user_entries
(auth.uid() = user_id)

user_insert
auth
true
```

Call to tips tb & return selected fields

```
const { data: dataCall = await useFetch("/api/tips", {
  transform: (tips) => {
    return tips.map((tip) => ({ date: tip.date, cash: tip.cash }));
  },
});
```

Form Setup

```

  DATE
  IN TIME
  OUT TIME
  CASH
  CREDIT
  BEER SALES
  FOOD SALES
  LIQUOR SALES
  WINE SALES
  RETAIL SALES
  GUEST COUNT

```

Calculate:

- TOTAL SALES
-

user_id_input

beer_sales_input
cash_input
credit_input
date_input
food_sales_input
guest_count_input
job_id_input
liquor_sales_input
retail_sales_input
user_id_input
wine_sales_input
